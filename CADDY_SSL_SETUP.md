# Caddy SSL Setup –¥–ª—è ContCatLog

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–î–æ–±–∞–≤–ª–µ–Ω **Caddy** –∫–∞–∫ reverse proxy —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º SSL –æ—Ç Let's Encrypt.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:

```
–ò–Ω—Ç–µ—Ä–Ω–µ—Ç
    ‚Üì
catalog.container365.ru (DNS A-–∑–∞–ø–∏—Å—å ‚Üí 5.129.206.174)
    ‚Üì
Caddy (–ø–æ—Ä—Ç—ã 80, 443)
    ‚îú‚îÄ HTTP:80  ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ HTTPS
    ‚îî‚îÄ HTTPS:443 ‚Üí Node.js (localhost:3001)
```

---

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### 1. –£–¥–∞–ª–∏—Ç—å –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ TimeWeb Cloud

**–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω!**

1. –ü–µ—Ä–µ–π–¥–∏ –≤ TimeWeb Cloud ‚Üí –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∏
2. –£–¥–∞–ª–∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ "Mysterious Corvus"
3. –≠–∫–æ–Ω–æ–º–∏—è: **149‚ÇΩ/–º–µ—Å—è—Ü** üí∞

---

### 2. –ò–∑–º–µ–Ω–∏—Ç—å A-–∑–∞–ø–∏—Å—å –¥–æ–º–µ–Ω–∞

**–í TimeWeb Hosting (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–æ–º container365.ru):**

–ò–∑–º–µ–Ω–∏ A-–∑–∞–ø–∏—Å—å –¥–ª—è `catalog.container365.ru`:

**–ë–´–õ–û:**
```
catalog.container365.ru ‚Üí 92.51.23.111 (IP –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∞)
```

**–°–¢–ê–õ–û:**
```
catalog.container365.ru ‚Üí 5.129.206.174 (IP –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ContCatLog)
```

---

### 3. –î–æ–∂–¥–∞—Ç—å—Å—è –¥–µ–ø–ª–æ—è

–ü–æ—Å–ª–µ –ø—É—à–∞ –≤ GitHub, TimeWeb App Platform –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –°–∫–∞—á–∞–µ—Ç –Ω–æ–≤—ã–π –∫–æ–¥
2. –°–æ–±–µ—Ä—ë—Ç Docker-–æ–±—Ä–∞–∑ —Å Caddy
3. –ó–∞–ø—É—Å—Ç–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
4. Caddy –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏—Ç SSL –æ—Ç Let's Encrypt

**–í—Ä–µ–º—è –¥–µ–ø–ª–æ—è:** 3-5 –º–∏–Ω—É—Ç

---

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

–û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

**http://catalog.container365.ru** ‚Üí –¥–æ–ª–∂–µ–Ω —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç—å –Ω–∞ HTTPS  
**https://catalog.container365.ru** ‚Üí –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è –∫–∞—Ç–∞–ª–æ–≥ —Å –∑–µ–ª—ë–Ω—ã–º –∑–∞–º–æ—á–∫–æ–º üîí‚úÖ

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### Caddy –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. **–ü–æ–ª—É—á–∞–µ—Ç SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç** –æ—Ç Let's Encrypt –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
2. **–û–±–Ω–æ–≤–ª—è–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–∫–∞–∂–¥—ã–µ 90 –¥–Ω–µ–π)
3. **–†–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç HTTP ‚Üí HTTPS** –¥–ª—è –¥–æ–º–µ–Ω–∞
4. **–ü—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã** –Ω–∞ Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–æ—Ä—Ç 3001)

### –õ–æ–≥–∏:

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ Caddy:

```bash
# –í TimeWeb App Platform ‚Üí ContCatLog ‚Üí –õ–æ–≥–∏
# –ò—â–∏ —Å—Ç—Ä–æ–∫–∏ —Å [caddy] –∏–ª–∏ [ssl]
```

---

## –ü–æ—Ä—Ç—ã

- **80** (HTTP) - Caddy —Å–ª—É—à–∞–µ—Ç, —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–∞ HTTPS
- **443** (HTTPS) - Caddy —Å–ª—É—à–∞–µ—Ç, –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –Ω–∞ Node.js
- **3001** (Node.js) - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ localhost)

---

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: SSL –Ω–µ –≤—ã–ø—É—Å–∫–∞–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** DNS –µ—â—ë –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å DNS: `nslookup catalog.container365.ru`
2. –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å `5.129.206.174`
3. –ü–æ–¥–æ–∂–¥–∏ 10-30 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è A-–∑–∞–ø–∏—Å–∏
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ TimeWeb App Platform

### –ü—Ä–æ–±–ª–µ–º–∞: 502 Bad Gateway

**–ü—Ä–∏—á–∏–Ω–∞:** Node.js –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è –∏–ª–∏ —É–ø–∞–ª

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –≤ TimeWeb App Platform
2. –£–±–µ–¥–∏—Å—å —á—Ç–æ Node.js —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç 3001
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –ü—Ä–æ–±–ª–µ–º–∞: –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞

**–ü—Ä–∏—á–∏–Ω–∞:** Caddy –ø–æ–ª—É—á–∏–ª —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è IP –≤–º–µ—Å—Ç–æ –¥–æ–º–µ–Ω–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Å—å —á—Ç–æ DNS –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
2. –£–¥–∞–ª–∏ volume —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —ç—Ç–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π SSL** - –Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –≤—ã–ø—É—Å–∫–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** - —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Å–∞–º–∏  
‚úÖ **–≠–∫–æ–Ω–æ–º–∏—è** - –Ω–µ –Ω—É–∂–µ–Ω –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ (149‚ÇΩ/–º–µ—Å)  
‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –≤—Å—ë –≤ –æ–¥–Ω–æ–º Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ  
‚úÖ **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å** - Caddy –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è SSL  

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**Caddy –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://caddyserver.com/docs/  
**Let's Encrypt –ª–∏–º–∏—Ç—ã:** https://letsencrypt.org/docs/rate-limits/

**–õ–∏–º–∏—Ç—ã Let's Encrypt:**
- 50 —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –Ω–∞ –¥–æ–º–µ–Ω –≤ –Ω–µ–¥–µ–ª—é
- 5 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤ —á–∞—Å

–î–ª—è –Ω–∞—à–µ–≥–æ —Å–ª—É—á–∞—è —ç—Ç–æ–≥–æ –±–æ–ª–µ–µ —á–µ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.
